<div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">

            <form [formGroup]="userDataForm" (ngSubmit)="onSubmitUserData()">

                <div formGroupName="userData">
                    <div class="form-group">
                        <label for="username">UserName</label>
                        <input type="text" class="form-control" id="username" placeholder="Optional: @Username"
                            formControlName="username">
                        <span
                            *ngIf="!userDataForm.get('userData.username').valid && userDataForm.get('userData.username').touched"
                            class="help-block">
                            <span *ngIf="userDataForm.get('userData.username').errors['nameIsForbidden']"
                                class="help-block">Forbidden
                                username</span>
                            <span *ngIf="userDataForm.get('userData.username').errors['required']"
                                class="help-block">Please enter
                                username</span>
                        </span>
                    </div>
                    <div class="form-group">
                        <label for="address1">Address</label>
                        <input type="text" class="form-control" id="address1" placeholder="1234 Main St"
                            formControlName="address1">
                    </div>
                    <div class="form-group">
                        <label for="address2">Address 2</label>
                        <input type="text" class="form-control" id="address2" placeholder="Apartment, studio, or floor"
                            formControlName="address2">
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="city">City</label>
                            <input type="text" class="form-control" id="city" placeholder="City" formControlName="city">
                        </div>
                        <div class="form-group col-md-4">
                            <label for="state">State</label>
                            <select id="state" class="form-control" formControlName="state">
                                <option value="" selected>Choose...</option>
                                <option *ngFor="let state of statesList">{{state}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="zipcode">Zip</label>
                            <input type="text" class="form-control" id="zipcode" placeholder="ZipCode"
                                formControlName="zipcode">
                        </div>
                    </div>
                </div>

                <button type="submit" [disabled]="!userDataForm.valid ? 'disabled' : null"
                    class="col-md-3 btn btn-primary">Send</button>

            </form>

            <!-- <div formArrayName="hobbies" class="form-group">
            <h4>Your Hobbies</h4>
            <button class="btn btn-default" type="button" (click)="onAddHobby()">Add Hobbies</button>
            <div class="form-group" *ngFor="let hobbyControl of getControls(); let i = index">
              <input type="text" class="form-control" [formControlName]="i">
            </div>
          </div> -->

        </div>
    </div>
</div>


<div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
            <button type="button" class="btn btn-info get-user-data-btn" (click)="onGetUserData()">Get User
                Data</button>
            <button type="button" class="btn btn-danger" (click)="onDeleteUserData()">Delete User
                Data</button>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
            <p *ngIf="userDataView.length < 1 && !isLoading">No User Data Available!</p>
            <ul class="list-group" *ngIf="userDataView.length >= 1 && !isLoading">
                <li class="list-group-item" *ngFor="let user of userDataView">
                    <p>Username: {{user.username}}</p>
                    <p>ZipCode: {{user.zipcode}}</p>
                </li>
            </ul>
            <p *ngIf="isLoading && !errorMessage">Loading....</p>
            <div class="alert alert-danger" *ngIf="errorMessage">
                <p>{{errorMessage}}</p>
            </div>
        </div>
    </div>
</div>